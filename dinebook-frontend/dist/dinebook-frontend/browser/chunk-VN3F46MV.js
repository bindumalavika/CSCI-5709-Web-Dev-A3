import{J as p,M as u,Sb as g,Ub as o,m as h}from"./chunk-TBJQDHG5.js";var l=class s{constructor(t){this.http=t}apiUrl="http://localhost:3000";getAuthHeaders(){let t=localStorage.getItem("token");return new g({Authorization:`Bearer ${t}`})}getWelcomeMessage(){return this.http.get(`${this.apiUrl}/`)}register(t){return this.http.post(`${this.apiUrl}/api/auth/register`,t)}login(t){return this.http.post(`${this.apiUrl}/api/auth/login`,t)}verifyEmail(t){return this.http.get(`${this.apiUrl}/api/auth/verify?token=${t}`)}getRestaurantById(t){return this.http.get(`${this.apiUrl}/api/restaurants/${t}`)}getMyRestaurants(){return this.http.get(`${this.apiUrl}/api/restaurants/my`,{headers:this.getAuthHeaders()})}getRestaurantBookings(t,e=10){return this.http.get(`${this.apiUrl}/api/restaurants/${t}/bookings?limit=${e}`,{headers:this.getAuthHeaders()})}getRestaurantStats(t){return this.http.get(`${this.apiUrl}/api/restaurants/${t}/stats`,{headers:this.getAuthHeaders()})}getRestaurantReviews(t){return this.http.get(`${this.apiUrl}/api/reviews/restaurant/${t}`)}createRestaurant(t){return this.http.post(`${this.apiUrl}/api/restaurants`,t,{headers:this.getAuthHeaders()})}updateRestaurant(t,e){return this.http.put(`${this.apiUrl}/api/restaurants/${t}`,e,{headers:this.getAuthHeaders()})}deleteRestaurant(t){return this.http.delete(`${this.apiUrl}/api/restaurants/${t}`,{headers:this.getAuthHeaders()})}getRestaurants(t){let e="";if(t){let r=new URLSearchParams(t).toString();e=r?`?${r}`:""}return this.http.get(`${this.apiUrl}/api/restaurants${e}`)}searchNearbyRestaurants(t,e,r,a){let i=`?latitude=${t}&longitude=${e}`;return r&&(i+=`&radius=${r}`),a&&Object.keys(a).forEach(n=>{a[n]&&(i+=`&${n}=${a[n]}`)}),this.http.get(`${this.apiUrl}/api/restaurants/nearby${i}`)}getFavorites(){return this.http.get(`${this.apiUrl}/api/favorites`,{headers:this.getAuthHeaders()}).pipe(h(t=>(t.favorites||[]).map(e=>e.restaurantId).filter(e=>!!e)))}checkFavoriteStatus(t){return this.http.get(`${this.apiUrl}/api/favorites/${t}/status`,{headers:this.getAuthHeaders()})}toggleFavorite(t){return this.http.post(`${this.apiUrl}/api/favorites/${t}`,{},{headers:this.getAuthHeaders()})}getMenuItems(t){return this.http.get(`${this.apiUrl}/api/restaurants/${t}/menu`,{headers:this.getAuthHeaders()})}createMenuItem(t,e){return this.http.post(`${this.apiUrl}/api/restaurants/${t}/menu`,e,{headers:this.getAuthHeaders()})}updateMenuItem(t,e,r){return this.http.put(`${this.apiUrl}/api/restaurants/${t}/menu/${e}`,r,{headers:this.getAuthHeaders()})}deleteMenuItem(t,e){return this.http.delete(`${this.apiUrl}/api/restaurants/${t}/menu/${e}`,{headers:this.getAuthHeaders()})}static \u0275fac=function(e){return new(e||s)(u(o))};static \u0275prov=p({token:s,factory:s.\u0275fac,providedIn:"root"})};export{l as a};
