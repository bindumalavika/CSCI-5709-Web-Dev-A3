import{a as E}from"./chunk-VN3F46MV.js";import{a as I,b as F}from"./chunk-SCWRUL6B.js";import{Ea as c,Fa as a,Ga as t,Ha as u,Jb as O,Kb as h,Oa as l,Pb as x,Qb as b,Vc as w,Wc as S,Xc as z,_b as y,ab as i,bb as m,cb as v,fa as f,ga as r,ib as _,ka as g,mb as C,oa as p,ob as M,qb as P,sa as d}from"./chunk-TBJQDHG5.js";var j=e=>["/restaurants",e];function A(e,o){e&1&&(a(0,"div",7)(1,"mat-icon",8),i(2,"refresh"),t(),i(3," Loading favorites... "),t())}function T(e,o){if(e&1&&(a(0,"div",9)(1,"mat-icon"),i(2,"error_outline"),t(),i(3),t()),e&2){let n=l();r(3),v(" ",n.error," ")}}function L(e,o){e&1&&(a(0,"div",10)(1,"mat-icon"),i(2,"star_border"),t(),i(3," No favorites yet. Start adding your favorite restaurants! "),t())}function N(e,o){if(e&1&&(a(0,"div",13)(1,"div",14),u(2,"img",15),t(),a(3,"div",16)(4,"div",17)(5,"h3",18),i(6),t(),a(7,"span",19),i(8),M(9,"number"),t()(),a(10,"p",20),i(11),t(),a(12,"div",21)(13,"div",22)(14,"mat-icon",23),i(15,"location_on"),t(),a(16,"span"),i(17),t()()(),a(18,"div",24)(19,"button",25)(20,"mat-icon"),i(21,"menu_book"),t(),i(22," View "),t()()()()),e&2){let n=o.$implicit;r(2),c("alt",_(n.name))("src",n.image||"https://cdn.pixabay.com/photo/2019/09/12/15/21/resort-4471852_1280.jpg",f),r(4),m(n.name),r(2),m(P(9,8,n.priceRange,"1.0-0")),r(3),m(n.cuisine),r(6),m(n.location),r(2),c("routerLink",C(11,j,n._id))}}function R(e,o){if(e&1&&(a(0,"div",11),d(1,N,23,13,"div",12),t()),e&2){let n=l();r(),c("ngForOf",n.favorites)}}var k=class e{constructor(o,n){this.apiService=o;this.authService=n}favorites=[];loading=!1;error=null;ngOnInit(){if(!this.authService.isLoggedIn||!this.authService.isCustomer()){this.error="You must be logged in as a customer to view favorites.";return}this.fetchFavorites()}fetchFavorites(){this.loading=!0,this.error=null,this.apiService.getFavorites().subscribe({next:o=>{this.favorites=o||[],this.loading=!1},error:()=>{this.error="Failed to load favorites.",this.loading=!1}})}static \u0275fac=function(n){return new(n||e)(g(E),g(z))};static \u0275cmp=p({type:e,selectors:[["app-favorites-page"]],decls:8,vars:4,consts:[[1,"favorites-page"],[1,"container"],[1,"favorites-title"],["class","favorites-loading",4,"ngIf"],["class","favorites-error",4,"ngIf"],["class","favorites-empty",4,"ngIf"],["class","favorites-grid",4,"ngIf"],[1,"favorites-loading"],[1,"spinning"],[1,"favorites-error"],[1,"favorites-empty"],[1,"favorites-grid"],["class","restaurant-card",4,"ngFor","ngForOf"],[1,"restaurant-card"],[1,"restaurant-image"],[3,"src","alt"],[1,"restaurant-info"],[1,"restaurant-header"],[1,"restaurant-name"],[1,"price-indicator"],[1,"restaurant-cuisine"],[1,"restaurant-details"],[1,"detail-item"],[1,"detail-icon"],[1,"restaurant-actions"],["mat-button","",1,"view-menu-btn",3,"routerLink"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"h1",2),i(3,"My Favorite Restaurants"),t(),d(4,A,4,0,"div",3)(5,T,4,1,"div",4)(6,L,4,0,"div",5)(7,R,2,1,"div",6),t()()),n&2&&(r(4),c("ngIf",s.loading),r(),c("ngIf",s.error),r(),c("ngIf",!s.loading&&!s.error&&s.favorites.length===0),r(),c("ngIf",!s.loading&&!s.error&&s.favorites.length>0))},dependencies:[b,O,h,x,S,w,F,I,y],styles:[".favorites-page[_ngcontent-%COMP%]{min-height:calc(100vh - 72px);background-color:#fafafa;padding:2rem 0 4rem}.favorites-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;margin-bottom:2rem;text-align:center}.favorites-loading[_ngcontent-%COMP%], .favorites-error[_ngcontent-%COMP%], .favorites-empty[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#6b7280;font-size:1rem;margin:1.5rem 0;justify-content:center}.favorites-loading[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .favorites-error[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .favorites-empty[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem}.favorites-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:2rem;margin-top:1.5rem;max-width:1200px;margin-left:auto;margin-right:auto}.restaurant-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb;transition:box-shadow .2s;position:relative;max-width:400px;width:100%;cursor:pointer}.restaurant-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 6px -1px #0000001a}.restaurant-image[_ngcontent-%COMP%]{height:220px;background:linear-gradient(45deg,#f3f4f6,#e5e7eb);position:relative;overflow:hidden}.restaurant-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover;display:block}.restaurant-info[_ngcontent-%COMP%]{padding:1.5rem}.restaurant-info[_ngcontent-%COMP%]   .restaurant-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:.5rem}.restaurant-info[_ngcontent-%COMP%]   .restaurant-header[_ngcontent-%COMP%]   .restaurant-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin:0;flex:1}.restaurant-info[_ngcontent-%COMP%]   .restaurant-header[_ngcontent-%COMP%]   .price-indicator[_ngcontent-%COMP%]{color:#6b7280;font-weight:600;font-size:1rem}.restaurant-info[_ngcontent-%COMP%]   .restaurant-cuisine[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;margin:0 0 1rem;font-style:italic}.restaurant-info[_ngcontent-%COMP%]   .restaurant-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1.5rem}.restaurant-info[_ngcontent-%COMP%]   .restaurant-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#6b7280}.restaurant-info[_ngcontent-%COMP%]   .restaurant-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem;color:#6b7280}.restaurant-info[_ngcontent-%COMP%]   .restaurant-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.restaurant-info[_ngcontent-%COMP%]   .restaurant-actions[_ngcontent-%COMP%]   .view-menu-btn[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:.5rem;color:#6b7280;border:1px solid #d1d5db}.restaurant-info[_ngcontent-%COMP%]   .restaurant-actions[_ngcontent-%COMP%]   .view-menu-btn[_ngcontent-%COMP%]:hover{background-color:#f9fafb;border-color:#9ca3af}.restaurant-info[_ngcontent-%COMP%]   .restaurant-actions[_ngcontent-%COMP%]   .view-menu-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}@media (max-width: 768px){.favorites-page[_ngcontent-%COMP%]{padding:1.5rem 0 3rem}.favorites-title[_ngcontent-%COMP%]{font-size:1.5rem}.favorites-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.restaurant-info[_ngcontent-%COMP%]{padding:1rem}.restaurant-info[_ngcontent-%COMP%]   .restaurant-actions[_ngcontent-%COMP%]{flex-direction:column}.restaurant-info[_ngcontent-%COMP%]   .restaurant-actions[_ngcontent-%COMP%]   .view-menu-btn[_ngcontent-%COMP%]{width:100%}}"]})};export{k as FavoritesPageComponent};
